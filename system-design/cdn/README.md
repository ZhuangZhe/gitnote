# CDN

CDN用于建立并覆盖在承载网之上、由分布在不同区域的边缘节点服务器群组成的分布式网络，替代传统以 `WEB Server` 为中心的数据传输模式。

作用是将源内容发布到边缘节点，配合精准的**调度系统**；将用户的请求分配至最适合他的节点，使用户可以以最快的速度取得他所需的内容，有效解决Internet网络拥塞状况，提高用户访问的响应速度。

将内容存储在 CDN 上可以从两个方面来提供性能:

* 从靠近用户的数据中心提供资源
* 通过 CDN 你的服务器不必真的处理请求

#### CDN推送\(push\)：当你服务器上内容发生变动时，推送 CDN 接受新内容。直接推送给 CDN 并重写 URL 地址以指向你的内容的 CDN 地址。你可以配置内容到期时间及何时更新。内容只有在更改或新增是才推送，流量最小化，但储存最大化。

#### CDN拉取\(pull\)：CDN 拉取是当第一个用户请求该资源时，从服务器上拉取资源。你将内容留在自己的服务器上并重写 URL 指向 CDN 地址。直到内容被缓存在 CDN 上为止，这样请求只会更慢，

\*\*\*\*[**存活时间\(TTL\)**](https://en.wikipedia.org/wiki/Time_to_live)**：决定缓存多久时间。CDN拉取方式最小化CDN上的储存空间，但如果过期文件并在实际更改之前被拉取，则会导致冗余的流量。**

高流量站点使用CDN拉取效果不错，因为只有最近请求的内容保存在CDN中，流量才能更平衡地分散。

#### CDN缺陷：

* CDN 成本可能因流量而异，可能在权衡之后你将不会使用 CDN。
* 如果在 TTL 过期之前更新内容，CDN 缓存内容可能会过时。
* CDN 需要更改静态内容的 URL 地址以指向 CDN。

**参考资料：**

* \*\*\*\*[**CDN详解**](https://segmentfault.com/a/1190000010631404)\*\*\*\*
* \*\*\*\*[**cdn详解 很全面的**](https://yq.aliyun.com/articles/91362)

